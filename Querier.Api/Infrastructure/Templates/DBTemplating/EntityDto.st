using System;
using System.ComponentModel.DataAnnotations;
using System.Collections.Generic;
using System.Text.Json.Serialization;
using Newtonsoft.Json;
using Querier.Api.Domain.Common.Attributes;

namespace $nameSpace$.DTOs
{
    $entityList: {entity|
    [DtoFor(Action = "GET", EntityType = "$nameSpace$.$entity.Name$")]
    public class $entity.Name$Dto
    {
        $entity.Properties: {property|
        [JsonPropertyName("$property.Name$")]
        [JsonProperty("$property.Name$", Required = Required.AllowNull, NullValueHandling = NullValueHandling.Include)]
        $if(property.IsKey)$[Key]$endif$
        public $property.CSType$ $property.Name$ { get; set; \}
        }$
    \}

    [DtoFor(Action = "CREATE", EntityType = "$nameSpace$.$entity.Name$")]
    public class Create$entity.Name$Dto
    {
        $entity.Properties: {property|
        $if(!property.IsAutoGenerated)$
        [JsonPropertyName("$property.Name$")]
        [JsonProperty("$property.Name$", Required = $if(property.IsRequired)$Required.Always$else$Required.AllowNull$endif$, NullValueHandling = NullValueHandling.Include)]
        public $property.CSType$ $property.Name$ { get; set; \}
        $endif$
        }$
    \}

    [DtoFor(Action = "UPDATE", EntityType = "$nameSpace$.$entity.Name$")]
    public class Update$entity.Name$Dto
    {
        $entity.Properties: {property|
        $if(!property.IsKey)$
        [JsonPropertyName("$property.Name$")]
        [JsonProperty("$property.Name$", Required = Required.AllowNull, NullValueHandling = NullValueHandling.Include)]
        public $property.CSType$ $property.Name$ { get; set; \}
        $endif$
        }$
    \}
    }$
\} 